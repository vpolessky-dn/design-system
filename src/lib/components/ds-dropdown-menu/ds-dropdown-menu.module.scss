@use '@design-system/ui/src/styles/typography';
@use '@design-system/ui/src/styles/shared/dropdown';

.content {
	@include dropdown.dropdown-content;
	display: flex;
	flex-direction: column;
	max-height: var(--available-height, 400px);
	overflow-y: auto;

	&:focus-visible {
		outline-offset: 2px;
	}
}

.search {
	position: sticky;
	top: 0;
	z-index: 1;
	padding: var(--spacing-3xs);
	border-bottom: 1px solid var(--color-border-secondary);
	background-color: var(--color-background);
}

.item {
	@include dropdown.dropdown-item;
	display: flex;
	align-items: center;
	gap: var(--spacing-xs);

	&.selected {
		.indicator {
			display: flex;
			min-width: var(--icon-width-medium);
			margin-left: auto;
		}

		&:hover {
			.indicator {
				color: var(--color-background-selected);
			}
		}
	}
}

.itemIcon {
	flex-shrink: 0;
}

.label {
	flex: 1;
}

.separator {
	height: 1px;
	background-color: var(--color-border-secondary);
	margin: var(--spacing-4xs) var(--spacing-xs);
}

.actions {
	position: sticky;
	bottom: -1px;
	z-index: 1;
	display: flex;
	align-items: center;
	justify-content: flex-end;
	gap: var(--spacing-xs);
	padding: var(--spacing-3xs) var(--spacing-xs);
	border-top: 1px solid var(--color-border-secondary);
	background-color: var(--color-background);
}

.groupLabel {
	display: flex;
	align-items: center;
	padding: var(--spacing-3xs) var(--spacing-xs);
	background-color: var(--color-background);
	outline-offset: -1px;

	&Collapsible {
		justify-content: space-between;
		width: 100%;
		text-align: left;
		cursor: pointer;
		border: none;
		transition: background-color 0.15s ease;

		&:hover {
			background-color: var(--color-background-action-hover-weak);
		}
	}
}

.groupLabelIcon {
	flex-shrink: 0;

	&Rotated {
		transform: rotate(180deg);
		transition: transform 0.2s ease-in-out;
	}
}

/** Legacy classes */
.content-legacy {
	@include dropdown.dropdown-content;
	min-width: 200px;
	width: var(--radix-select-trigger-width);
}

.viewport-legacy {
	@include dropdown.dropdown-viewport;
}

.item-legacy {
	@include dropdown.dropdown-item;
	@include typography.p-special;
	@include typography.ellipsis;
}
